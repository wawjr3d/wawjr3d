<!DOCTYPE html>
<html>
<head>

  <title>random coding | wawjr3d</title>

  <!--#include virtual="/includes/head.html" -->

  <meta name="description" content="Implementing some interview questions I give or heard by Wayne Warner" />

  <meta name="twitter:description" content="Implementing some interview questions I give or heard by Wayne Warner">
  <meta name="twitter:title" content="random coding | wawjr3d">
  <meta name="twitter:url" content="https://www.wawjr3d.com/practice/random_coding.html">

  <meta property="og:description" content="Implementing some interview questions I give or heard by Wayne Warner">
  <meta property="og:title" content="random coding | wawjr3d">
  <meta property="og:url" content="https://www.wawjr3d.com/practice/random_coding.html">

  <link rel="canonical" href="https://www.wawjr3d.com/practice/random_coding.html">

  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">

  <style>
    pre {
      white-space: pre-line;
      margin: 1em 0;
    }

    pre code {
      border: solid 1px #AAA;
      border-radius: 5px;
    }

    .hljs {
      padding: 1em;
    }

    .keyword {
      display: inline-block;
      background-color: #F0F0F0;
      color: #880000;
      font-size: .9em;
      padding: .1em .3em;
    }

    pre,
    .keyword,
    .code-input {
      font-family: "Lucida Console", Monaco, monospace;
    }

    .coding {
      margin-bottom: 3em;
    }

    .title {
      font-weight: bold;
      margin: .5em 0;
    }

    .code-input {
      font-size: 1.1em;
      max-width: 100%;
    }

    .coding-random .code-input {
      width: 3em;
    }

  </style>

</head>
<body>
  <div id="container">
    <!--#include virtual="/includes/header.html" -->

    <div id="practice-content">
      <h1>Random Coding</h1>

      <div class="coding-add coding">
        <h2>Infinite recursion</h2>

        Write a function <span class="keyword">add</span> such that you can call it like this:

        <pre><code>console.log(add(1)); // logs 1
            console.log(add(1)(2)); // logs 3
            console.log(add(1)(2)(3)); // logs 6</code></pre>

        <h3 class="title">Try it</h3>
        <textarea class="code-input" rows="1" cols="100"></textarea>
        <pre><code class="output"></code></pre>
      </div>

      <div class="coding-anagram coding">
        <h2>Multiplicative anagram</h2>

        Write a program to find the smallest number such that if you multiply it by
        the numbers 1-<span class="keyword">x</span>, each result will have all the same digits.
        For example, a number that works when <span class="keyword">x</span> is 2, is
        285714.
        <pre><code>1 * 285714 === 285714
        2 * 285714 === 571428</code></pre>
        Both numbers have the digits 2, 8, 5, 7, 1, 4

        <h3 class="title">Try it</h3>
        <label>
          <span class="keyword">x</span>
          <select class="choice">
            <option>--</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
            <option>6</option>
          </select>
        </label>
        <pre><code class="output"></code></pre>
      </div>

      <div class="coding-random coding">
        <h2>Random order</h2>

        Generate all random numbers between a, b without repetition e.g. randm(1, 7) -> 1,2,3,4,5,6,7
        <br>
        <br>
        Random from
        <input type="number" name="coding-random-begin" class="code-input">
        to
        <input type="number" name="coding-random-end" class="code-input">
        <pre><code class="output"></code></pre>
      </div>
    </div>

    <!--#include virtual="/includes/footer.html" -->
  </div>

  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script>
    (function(global) {
      function matches(x, howMany) {
          if (Number(x.toString()[0]) > Math.floor(10 / howMany)) {
              return false;
          }

          var xString = sorted(x);

          for (var i = 1; i <= howMany; i++) {
              if (sorted(i * x) !== xString) {
                  return false;
              }
          }

          return true;
      }

      function sorted(x) {
          return x.toString().split("").sort().join("");
      }

      function smallestMultiplicativeAnagram(howMany) {
          var i = 1;

          while(!matches(i, howMany)) {
              i++;
          }

          return i;
      }

      global.smallestMultiplicativeAnagram = smallestMultiplicativeAnagram;
    })(window);

    (function(global) {
      function add(x) {
        var realX = x | 0;
        var nextAdd = function(y) {
          var realY = y | 0;
          return add(realX + realY);
        };

        nextAdd.valueOf = function() {
          return realX;
        };

        return nextAdd;
      }

      global.add = add;
    })(window);

    var inputs = document.getElementsByClassName("code-input");

    function addInputHandler(input) {
      input.addEventListener("keypress", function(e) {
        var textareaEl = e.target;
        var afterLastCharacter = textareaEl.selectionStart;
        var oldValue = textareaEl.value;

        if (e.which === 40) {
          e.preventDefault();
          textareaEl.value = [oldValue.slice(0, afterLastCharacter), "()", oldValue.slice(afterLastCharacter)].join("");
          textareaEl.selectionStart = afterLastCharacter + 1;
          textareaEl.selectionEnd = afterLastCharacter + 1;
          return;
        }

        if (e.which === 41 && oldValue[afterLastCharacter] === ")") {
          e.preventDefault();
          textareaEl.selectionStart = afterLastCharacter + 1;
          textareaEl.selectionEnd = afterLastCharacter + 1;
          return;
        }
      });
    }

    for (var i = 0, len = inputs.length; i < len; i++) {
      addInputHandler(inputs[i]);
    }

    var addOutput = document.querySelector(".coding-add .output");

    document.querySelector(".coding-add .code-input").addEventListener("keyup", function(e) {
      try {
        addOutput.innerHTML = "" + eval(e.target.value);
      } catch(e) {}
    });

    var anagramOutput = document.querySelector(".coding-anagram .output");

    document.querySelector(".coding-anagram .choice").addEventListener("change", function(e) {
      var howmany = Number(e.target.value);

      if (!howmany) {
        anagramOutput.innerHTML = "";
        return;
      }

      var value = smallestMultiplicativeAnagram(Number(e.target.value));
      var result = "";

      for (var i = 1; i <= howmany; i++) {
        result += "" + (value * i) + "\n";
      }

      anagramOutput.innerHTML = result;
    });

    function floor(num) {
      return num | 0;
    }

    function isNumber(num) {
      return typeof num === "number";
    }

    (function() {
      var codingRandom = document.querySelector(".coding-random");
      var randomOutput = codingRandom.querySelector(".output");
      var beginInput = codingRandom.querySelector("[name='coding-random-begin']");
      var endInput = codingRandom.querySelector("[name='coding-random-end']");

      beginInput.addEventListener("input", generateRandom);
      endInput.addEventListener("input", generateRandom);

      function generateRandom() {
        var begin = parseInt(beginInput.value, 10);
        var end = parseInt(endInput.value, 10);

        if (!isNumber(begin) || !isNumber(end)) {
          return;
        }

        if (end < begin) {
          return;
        }

        var length = end - begin + 1;
        var result = new Array(length);
        var range = new Array(length);

        for (var i = 0; i < length; i++) {
          range[i] = begin + i;
        }

        for (var i = 0; i < length; i++) {
          var total = length - i;
          var next = floor(Math.random() * total);
          var num = range[next];

          // swap last with the current found so we dont mutate array
          range[next] = range[total - 1];

          result[i] = num;
        }

        randomOutput.innerHTML = result;
      }
    })();

  </script>


  <!--#include virtual="/includes/scripts.html" -->
</body>
</html>
